"use strict";(()=>{var e={};e.id=350,e.ids=[350],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1260:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>g,patchFetch:()=>f,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>h,staticGenerationAsyncStorage:()=>m});var r={};a.r(r),a.d(r,{GET:()=>u,POST:()=>p});var s=a(9303),n=a(8716),o=a(670),i=a(7070);!function(){var e=Error("Cannot find module '@supabase/supabase-js'");throw e.code="MODULE_NOT_FOUND",e}();let c=Object(function(){var e=Error("Cannot find module '@supabase/supabase-js'");throw e.code="MODULE_NOT_FOUND",e}())(process.env.NEXT_PUBLIC_SUPABASE_URL||"",process.env.SUPABASE_SERVICE_ROLE_KEY||"");async function u(e){let{searchParams:t}=new URL(e.url),a=parseInt(t.get("limit")||"20"),r=parseInt(t.get("offset")||"0");try{let{data:e,error:t}=await c.from("leads").select("*").order("created_at",{ascending:!1}).range(r,r+a-1);if(t)throw t;return i.NextResponse.json({success:!0,data:e,pagination:{limit:a,offset:r,hasMore:(e?.length||0)===a}})}catch(e){return i.NextResponse.json({success:!0,data:[{id:1,name:"John Smith",email:"john@hvacpro.com",phone:"555-0101",status:"captured",source:"HVAC Landing",created_at:new Date().toISOString()},{id:2,name:"Maria Garcia",email:"maria@coolingsolutions.com",phone:"555-0102",status:"call_scheduled",source:"Direct",created_at:new Date().toISOString()},{id:3,name:"HomeHeart HVAC",email:"info@homehearthvac.com",phone:"555-0103",status:"hot",source:"Campaign",created_at:new Date().toISOString()}],pagination:{limit:a,offset:r,hasMore:!1},isMock:!0})}}async function p(e){try{let{name:t,email:a,phone:r,source:s,notes:n}=await e.json(),{data:o,error:u}=await c.from("leads").insert([{name:t,email:a,phone:r,source:s,notes:n,status:"new"}]).select().single();if(u)throw u;return i.NextResponse.json({success:!0,data:o})}catch(e){return i.NextResponse.json({success:!1,error:"Failed to create lead"},{status:500})}}let d=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/leads/route",pathname:"/api/leads",filename:"route",bundlePath:"app/api/leads/route"},resolvedPagePath:"C:\\Users\\nearm\\.gemini\\antigravity\\scratch\\empire-unified\\apps\\portal\\src\\app\\api\\leads\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:h}=d,g="/api/leads/route";function f(){return(0,o.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:m})}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[948,972],()=>a(1260));module.exports=r})();