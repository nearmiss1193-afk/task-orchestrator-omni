"use strict";(()=>{var e={};e.id=961,e.ids=[961],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6096:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>m,patchFetch:()=>h,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>v,staticGenerationAsyncStorage:()=>l});var s={};a.r(s),a.d(s,{GET:()=>c});var r=a(9303),n=a(8716),o=a(670),i=a(7070);!function(){var e=Error("Cannot find module '@supabase/supabase-js'");throw e.code="MODULE_NOT_FOUND",e}();let u=Object(function(){var e=Error("Cannot find module '@supabase/supabase-js'");throw e.code="MODULE_NOT_FOUND",e}())(process.env.NEXT_PUBLIC_SUPABASE_URL||"",process.env.SUPABASE_SERVICE_ROLE_KEY||"");async function c(){try{let{count:e}=await u.from("leads").select("*",{count:"exact",head:!0}),{data:t}=await u.from("deals").select("value").eq("status","active"),a=t?.reduce((e,t)=>e+(t.value||0),0)||0,s=new Date().toISOString().split("T")[0],{count:r}=await u.from("calls").select("*",{count:"exact",head:!0}).gte("created_at",s),{count:n}=await u.from("reservations").select("*",{count:"exact",head:!0});return i.NextResponse.json({success:!0,data:{leads:e||0,pipeline:a,calls:r||0,reservations:n||0,lastUpdated:new Date().toISOString()}})}catch(e){return i.NextResponse.json({success:!0,data:{leads:127,pipeline:48500,calls:23,reservations:8,lastUpdated:new Date().toISOString(),isMock:!0}})}}let p=new r.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/stats/route",pathname:"/api/stats",filename:"route",bundlePath:"app/api/stats/route"},resolvedPagePath:"C:\\Users\\nearm\\.gemini\\antigravity\\scratch\\empire-unified\\apps\\portal\\src\\app\\api\\stats\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:v}=p,m="/api/stats/route";function h(){return(0,o.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:l})}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[948,972],()=>a(6096));module.exports=s})();