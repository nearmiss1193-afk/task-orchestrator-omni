(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{7386:function(e,s,t){Promise.resolve().then(t.bind(t,632))},632:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return i}});var l=t(3827),a=t(4090);let r=(0,t(7688).eI)("https://rzcpfwkygdvoshtwxncs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ6Y3Bmd2t5Z2R2b3NodHd4bmNzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY1OTA0MjQsImV4cCI6MjA4MjE2NjQyNH0.PLACEHOLDER");function i(){let[e,s]=(0,a.useState)([]),[t,i]=(0,a.useState)([]),[n,d]=(0,a.useState)({totalCalls:0,leadsToday:0,systemHealth:"CHECKING..."}),[c,o]=(0,a.useState)(!0);async function m(){o(!0);let{data:e}=await r.from("system_logs").select("*").order("created_at",{ascending:!1}).limit(50),{data:t}=await r.from("call_transcripts").select("*").order("created_at",{ascending:!1}).limit(20),l=new Date().toISOString().split("T")[0],a=(null==e?void 0:e.filter(e=>"LEAD"===e.level&&e.created_at.startsWith(l)).length)||0;s(e||[]),i(t||[]),d({totalCalls:(null==t?void 0:t.length)||0,leadsToday:a,systemHealth:"OPERATIONAL"}),o(!1)}(0,a.useEffect)(()=>{m();let e=r.channel("logs-channel").on("postgres_changes",{event:"INSERT",schema:"public",table:"system_logs"},e=>{s(s=>[e.new,...s].slice(0,50))}).subscribe();return()=>{r.removeChannel(e)}},[]);let x=e=>{switch(e){case"ERROR":return"text-red-400";case"WARNING":return"text-yellow-400";case"LEAD":return"text-green-400";case"INFO":return"text-blue-400";default:return"text-slate-400"}},u=e=>e?e.toLowerCase().includes("positive")?"\uD83D\uDE0A":e.toLowerCase().includes("negative")?"\uD83D\uDE20":"\uD83D\uDE10":"❓";return c?(0,l.jsx)("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-blue-400 text-xl animate-pulse",children:"Loading Mission Control..."})}):(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-950 to-black text-white p-6",children:[(0,l.jsxs)("header",{className:"mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"\uD83C\uDFAF Empire Mission Control"}),(0,l.jsx)("p",{className:"text-slate-400 mt-1",children:"AI Service Company Operations Hub"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,l.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-6",children:[(0,l.jsx)("div",{className:"text-slate-400 text-sm",children:"System Status"}),(0,l.jsxs)("div",{className:"text-2xl font-bold text-green-400 flex items-center gap-2",children:[(0,l.jsx)("span",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),n.systemHealth]})]}),(0,l.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-6",children:[(0,l.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Calls Logged"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:n.totalCalls})]}),(0,l.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-6",children:[(0,l.jsx)("div",{className:"text-slate-400 text-sm",children:"Leads Today"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:n.leadsToday})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-6",children:[(0,l.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:["\uD83D\uDCCB Live System Logs",(0,l.jsx)("span",{className:"text-xs bg-red-500 px-2 py-0.5 rounded-full animate-pulse",children:"LIVE"})]}),(0,l.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:0===e.length?(0,l.jsx)("p",{className:"text-slate-500",children:"No logs yet..."}):e.map(e=>(0,l.jsxs)("div",{className:"text-sm border-b border-white/5 pb-2",children:[(0,l.jsxs)("span",{className:"font-mono ".concat(x(e.level)),children:["[",e.level,"]"]})," ",(0,l.jsx)("span",{className:"text-slate-300",children:e.message}),(0,l.jsx)("div",{className:"text-xs text-slate-500",children:new Date(e.created_at).toLocaleString()})]},e.id))})]}),(0,l.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"\uD83D\uDCDE Recent Calls"}),(0,l.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:0===t.length?(0,l.jsx)("p",{className:"text-slate-500",children:"No calls recorded yet..."}):t.map(e=>{var s;return(0,l.jsxs)("div",{className:"bg-white/5 rounded-lg p-3",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-mono text-blue-300",children:e.phone_number||"Unknown"}),(0,l.jsxs)("div",{className:"text-sm text-slate-400 mt-1",children:[(null===(s=e.summary)||void 0===s?void 0:s.slice(0,100))||"No summary","..."]})]}),(0,l.jsx)("div",{className:"text-2xl",children:u(e.sentiment)})]}),(0,l.jsx)("div",{className:"text-xs text-slate-500 mt-2",children:new Date(e.created_at).toLocaleString()})]},e.id)})})]})]}),(0,l.jsx)("footer",{className:"mt-8 text-center text-slate-500 text-sm",children:"Empire Unified v2 • Powered by Supabase + Vercel"})]})}}},function(e){e.O(0,[688,971,69,744],function(){return e(e.s=7386)}),_N_E=e.O()}]);